<script src="../tinytest.js"></script>
<script>

  "use strict"


 // tested 11 success 11
// Target
// The includes() method determines whether an array includes a certain value among its entries, returning true or false as appropriate.


//arr.includes(valueToFind[, fromIndex])



//Prototype function

function includes(array, searchElement, fromIndex = 0 ) { 
let indexStartToFind = 0
 

  if (fromIndex) {
    if(fromIndex < 0) {
        if (array.length + fromIndex < 0) {
          indexStartToFind = 0
        } else {
          indexStartToFind = array.length + fromIndex
        }

      } else {
      indexStartToFind = fromIndex
    }
  } 

  for(let i = indexStartToFind  ; i < array.length ; i++){
    // check if array[i] and searchElement  aresame type
    if (typeof array[i] === typeof searchElement){ // if they are the ssame type
      if(typeof array[i] === 'number'){ // if searchElement is a number
        if (isNaN(array[i] && isNaN(searchElement))){
          return true;
        }
        if (Math.abs(array[i])=== 0 && Math.abs(searchElement) === 0){ //apply sameValueZero
          return true
        }  
        if (array[i] === searchElement) {
          return true
        }
      } 
    } if (array[i] === searchElement){
       return true
    }
  }
  return false;
}


// Parameters
// array
// valueToFind
// fromIndex (Defaults to 0.)

//When comparing strings and characters, includes() is case-sensitive.

//Return value
//Boolean 

//requirement
//1. It should return true if the element is found in the array
//2. It should return true if NaN can be found in the array
//3. if fromIndex, start searching at the index position
//4. if fromIndex is negative, start searching at arr.length + fromIndex
//5. if calculated index(at which arr.length + fromIndex) is less than 0 or equal to -1 * arr.length, search the entire arra
//6. fromIndex should default to 0.
//7. It should return false if the element is not found in the array
//8. It should return false if the element and searchElement is different type
//9. It should case-sensitive when comparing strings and characters.
//10. If value is zero it should all be considered to be equal, regardless of sign (sameValueZero)
//11. It should return false if fromIndex is greater than or equal to the length of the array

tests({

'1. It should return true if the element is found in the array' : function() {
  let includesReturnValue = includes([1 ,2 ,3] , 2);
  eq(includesReturnValue, true);
},
'2. It should return true if NaN can be found in the array' : function() {
  let includesReturnValue = includes([NaN] , NaN);
  eq(includesReturnValue, true);
},
'3. if fromIndex, start searching at the index position' : function() {
  let includesReturnValue = includes([1 ,2 ,3 ,4 ,1 ,3 ,2] ,3 ,3 );
  eq(includesReturnValue, true);
},
'4. if fromIndex is negative, start searching at arr.length + fromIndex' : function() {
  let includesReturnValue = includes([1 ,2 ,3, 4] ,4 ,-1 );
  eq(includesReturnValue, true);
},
'5. if calculated index(at which arr.length + fromIndex) is less than 0 or equal to -1 * arr.length, search the entire array' : function() {
  let includesReturnValue = includes([1 ,2 ,3, 4] ,4 ,-10 );
  eq(includesReturnValue, true);
},
'6. fromIndex should default to 0.' : function() {
  let includesReturnValue = includes([1 ,2 ,3, 4] ,4 ,0 );
  eq(includesReturnValue, true);
},
'7. It should return false if the element is not found in the array' : function() {
  let includesReturnValue = includes([1 ,2 ,3] , 4);
  eq(includesReturnValue, false);
},
'8. It should return false if the element and searchElement is different type' : function() {
  let includesReturnValue1 = includes([1] , '1');
  let includesReturnValue2 = includes(['4'] , 4);
  eq(includesReturnValue1, false);
  eq(includesReturnValue2, false);
},
'9. It should case-sensitive when comparing strings and characters.' : function() {
  let includesReturnValue = includes(['A' ,'B' ,'C'] , 'a');
  eq(includesReturnValue, false);
},
'10. If value is zero it should all be considered to be equal, regardless of sign (sameValueZero)' : function() {
  let includesReturnValue1 = includes([-0] ,0);
  let includesReturnValue2 = includes([0] ,-0);
  eq(includesReturnValue1, true);
  eq(includesReturnValue2, true);
},
'11. It should return false if fromIndex is greater than or equal to the length of the array' : function() {
  let includesReturnValue = includes([1 ,2 ,3, 4] ,1 , 5);
  eq(includesReturnValue, false);
}
})

</script>