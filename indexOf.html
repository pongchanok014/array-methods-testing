<script src="/tinytest.js"></script>
<script>

// Target
// The indexOf() method returns the first index at which a given element can be found in the array, or -1 if it is not present.


// arr.indexOf(searchElement[, fromIndex])


//Prototype function
// function indexOf(array, searchElement, indexFrom) { 
//   startingIndex = 0

// if (indexFrom) {
//   startingIndex = indexFrom
// }

// for (let i = startingIndex; i < array.length; i++ ) {
//   if(searchElement === array[i]) {
//     return i;
//   }
// }
// return -1;
// }


//function parameter
//array
//searchElement
//fromIndex

//Return value
//The first index of the element in the array; -1 if not found.


function indexOf(array, searchElement, fromIndex = 0) {

  if(fromIndex){
    if (fromIndex < 0) {
      if (array.length - Math.abs(fromIndex) < 0){
        fromIndex = 0;
      } else {
        fromIndex = array.length - Math.abs(fromIndex);
    }
  }
}

  for (let i = fromIndex; i < array.length ; i++){
    if (array[i] === searchElement) {
      return i;
    } 
  }
  return -1;
}


tests({

'1.It should return the index of search element when that element can be found in the array' : function() {
  let testArray = ['a' ,'b', 'c', 'd'];
  let searchElement = 'b';
  let indexReturnValue = indexOf(testArray , searchElement);
  eq(indexReturnValue, 1);
},

'2.If the search element can not be found , return -1' : function() {
  let testArray = ['a' ,'b', 'c', 'd'];
  let searchElement = 'e';
  let indexReturnValue = indexOf(testArray , searchElement);
  eq(indexReturnValue, -1);
},

'3.if index (to start the search at) , it should start the search after the given index' : function() {
  let testArray = ['a' ,'b', 'c', 'd', 'a'];
  let searchElement = 'a';
  let fromIndex = 2
  let indexReturnValue = indexOf(testArray , searchElement, fromIndex);
  eq(indexReturnValue, 4);
},
"4.If the index is greater than or equal to the array's length, -1 is returned" : function() {
  let testArray = ['a' ,'b', 'c', 'd'];
  let searchElement = 'c';
  let fromIndex = 5
  let indexReturnValue = indexOf(testArray , searchElement, fromIndex);
  eq(indexReturnValue, -1);
},
'5.If the provided index value is a negative number, it is taken as the offset from the end of the array' : function() {
  let testArray = ['a' ,'b' ,'c' ,'d','b'];
  let searchElement = 'b';
  let fromIndex = -1
  let indexReturnValue = indexOf(testArray , searchElement, fromIndex);
  eq(indexReturnValue, 4);
},
'6.If the provided index is 0, the whole array will be searched. Default is 0.' : function() {
  let testArray = ['a' ,'b' ,'c' ,'d', 'b'];
  let searchElement = 'b';
  let fromIndex = 0
  let indexReturnValue = indexOf(testArray , searchElement, fromIndex);
  eq(indexReturnValue, 1);
},
'7.If the the provided fromIndex is negative and the calculated index is less than 0 (arraylength - fromIndex), the whole array will be searched.' : function() {
  let testArray = ['a' ,'b' ,'c' ,'d'];
  let searchElement = 'b';
  let fromIndex = -5
  let indexReturnValue = indexOf(testArray , searchElement, fromIndex);
  eq(indexReturnValue, 1);

}
})









</script>